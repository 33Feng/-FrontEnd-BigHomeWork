{"ast":null,"code":"import axios from 'axios';\nconst service = axios.create({\n  baseURL: 'http://localhost:8000/api',\n  timeout: 30000,\n  // 延长超时时间\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// 请求拦截器\nservice.interceptors.request.use(config => {\n  console.log('请求参数：', config);\n  return config;\n}, error => {\n  console.error('请求错误：', error);\n  return Promise.reject(error);\n});\n\n// 响应拦截器\nservice.interceptors.response.use(response => {\n  const res = response.data;\n  console.log('响应数据：', res); // 打印响应，方便调试\n  if (res.code !== 200) {\n    console.error('请求失败：', res.msg);\n    return Promise.reject(new Error(res.msg || '请求失败'));\n  }\n  return res;\n}, error => {\n  console.error('响应错误：', error.response || error);\n  return Promise.reject(error);\n});\nexport const api = {\n  getGraphData() {\n    return service.get('/graph-data');\n  },\n  // 新增：按实体获取图谱数据\n  getGraphDataByEntity(entity) {\n    return service.get(`/graph-data/entity/${encodeURIComponent(entity)}`);\n  },\n  // 新增：模糊搜索接口\n  fuzzySearchEntity(keyword) {\n    return service.get(`/graph-data/entity/fuzzy/${encodeURIComponent(keyword)}`);\n  },\n  qa(question) {\n    return service.post('/qa', {\n      question\n    });\n  },\n  getEntities() {\n    return service.get('/entities');\n  }\n};","map":{"version":3,"names":["axios","service","create","baseURL","timeout","headers","interceptors","request","use","config","console","log","error","Promise","reject","response","res","data","code","msg","Error","api","getGraphData","get","getGraphDataByEntity","entity","encodeURIComponent","fuzzySearchEntity","keyword","qa","question","post","getEntities"],"sources":["D:/前端大作业/kg-system/frontend/src/api/index.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst service = axios.create({\r\n  baseURL: 'http://localhost:8000/api',\r\n  timeout: 30000, // 延长超时时间\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\n// 请求拦截器\r\nservice.interceptors.request.use(\r\n  config => {\r\n    console.log('请求参数：', config);\r\n    return config;\r\n  },\r\n  error => {\r\n    console.error('请求错误：', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(\r\n  response => {\r\n    const res = response.data;\r\n    console.log('响应数据：', res); // 打印响应，方便调试\r\n    if (res.code !== 200) {\r\n      console.error('请求失败：', res.msg);\r\n      return Promise.reject(new Error(res.msg || '请求失败'));\r\n    }\r\n    return res;\r\n  },\r\n  error => {\r\n    console.error('响应错误：', error.response || error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const api = {\r\n  getGraphData() {\r\n    return service.get('/graph-data');\r\n  },\r\n  // 新增：按实体获取图谱数据\r\n  getGraphDataByEntity(entity) {\r\n    return service.get(`/graph-data/entity/${encodeURIComponent(entity)}`);\r\n  },\r\n  // 新增：模糊搜索接口\r\n  fuzzySearchEntity(keyword) {\r\n    return service.get(`/graph-data/entity/fuzzy/${encodeURIComponent(keyword)}`);\r\n  },\r\n  qa(question) {\r\n    return service.post('/qa', { question });\r\n  },\r\n  getEntities() {\r\n    return service.get('/entities');\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC3BC,OAAO,EAAE,2BAA2B;EACpCC,OAAO,EAAE,KAAK;EAAE;EAChBC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACAJ,OAAO,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAC9BC,MAAM,IAAI;EACRC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,MAAM,CAAC;EAC5B,OAAOA,MAAM;AACf,CAAC,EACDG,KAAK,IAAI;EACPF,OAAO,CAACE,KAAK,CAAC,OAAO,EAAEA,KAAK,CAAC;EAC7B,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACAX,OAAO,CAACK,YAAY,CAACS,QAAQ,CAACP,GAAG,CAC/BO,QAAQ,IAAI;EACV,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAI;EACzBP,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEK,GAAG,CAAC,CAAC,CAAC;EAC3B,IAAIA,GAAG,CAACE,IAAI,KAAK,GAAG,EAAE;IACpBR,OAAO,CAACE,KAAK,CAAC,OAAO,EAAEI,GAAG,CAACG,GAAG,CAAC;IAC/B,OAAON,OAAO,CAACC,MAAM,CAAC,IAAIM,KAAK,CAACJ,GAAG,CAACG,GAAG,IAAI,MAAM,CAAC,CAAC;EACrD;EACA,OAAOH,GAAG;AACZ,CAAC,EACDJ,KAAK,IAAI;EACPF,OAAO,CAACE,KAAK,CAAC,OAAO,EAAEA,KAAK,CAACG,QAAQ,IAAIH,KAAK,CAAC;EAC/C,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,OAAO,MAAMS,GAAG,GAAG;EACjBC,YAAYA,CAAA,EAAG;IACb,OAAOrB,OAAO,CAACsB,GAAG,CAAC,aAAa,CAAC;EACnC,CAAC;EACD;EACAC,oBAAoBA,CAACC,MAAM,EAAE;IAC3B,OAAOxB,OAAO,CAACsB,GAAG,CAAC,sBAAsBG,kBAAkB,CAACD,MAAM,CAAC,EAAE,CAAC;EACxE,CAAC;EACD;EACAE,iBAAiBA,CAACC,OAAO,EAAE;IACzB,OAAO3B,OAAO,CAACsB,GAAG,CAAC,4BAA4BG,kBAAkB,CAACE,OAAO,CAAC,EAAE,CAAC;EAC/E,CAAC;EACDC,EAAEA,CAACC,QAAQ,EAAE;IACX,OAAO7B,OAAO,CAAC8B,IAAI,CAAC,KAAK,EAAE;MAAED;IAAS,CAAC,CAAC;EAC1C,CAAC;EACDE,WAAWA,CAAA,EAAG;IACZ,OAAO/B,OAAO,CAACsB,GAAG,CAAC,WAAW,CAAC;EACjC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}